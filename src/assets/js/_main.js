"use strict";function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}window.addEventListener("load",function(){var e=document.querySelector(".calculator__range-amount"),t=document.querySelector(".calculator__range-timing"),r=document.querySelector(".about__swiper"),n=document.querySelector(".about__block"),a=document.querySelectorAll(".about__box"),o=document.querySelector("#timing-credit"),i=document.querySelector("#amount-credit"),l=document.querySelector("#amount-up"),c=document.querySelector("#amount-down"),u=document.querySelector("#timing-up"),d=document.querySelector("#timing-down"),s=document.querySelector("#credit-rate"),p=document.querySelector("#overpayment"),m=document.querySelectorAll(".calculator__header-card"),w=document.querySelector(".calculator__main-title"),f=document.querySelector(".calculator__max"),_=document.getElementsByClassName("best__block"),y=document.getElementsByClassName("head__img"),b=1/365,g=document.querySelector(".calculator__header-card--active"),v=[900,1200],h=parseInt(g.getAttribute("data-timing")),S=parseFloat(g.getAttribute("data-precent"));function x(e,t,r,n){"+"===r&&e.noUiSlider.set(parseInt(t.textContent)+n),"-"===r&&e.noUiSlider.set(parseInt(t.textContent)-n)}function A(){p.textContent=parseInt(o.textContent)>h?parseInt(parseInt(i.textContent)*S*b/100*parseInt(o.textContent))+"₽":"0₽"}l.addEventListener("click",x.bind(null,e,i,"+",5e3)),c.addEventListener("click",x.bind(null,e,i,"-",5e3)),u.addEventListener("click",x.bind(null,t,o,"+",10)),d.addEventListener("click",x.bind(null,t,o,"-",10));var C,I=_createForOfIteratorHelper(m);try{for(I.s();!(C=I.n()).done;){C.value.addEventListener("click",function(){h=parseInt(this.getAttribute("data-timing")),S=parseFloat(this.getAttribute("data-precent")),w.textContent=this.getAttribute("data-name"),g.classList.remove("calculator__header-card--active"),this.classList.add("calculator__header-card--active"),g=this,A(),s.textContent=parseInt(o.textContent)>h?S+"%":"0%",f.textContent=parseInt(g.getAttribute("data-max-amount")),e.noUiSlider.updateOptions({range:{min:1e4,max:f.textContent=parseInt(g.getAttribute("data-max-amount"))}})})}}catch(e){I.e(e)}finally{I.f()}window.innerWidth<=v[0]&&(function(){r.classList.add("swiper-wrapper"),n.classList.add("swiper-wrapper");var e,t=_createForOfIteratorHelper(a);try{for(t.s();!(e=t.n()).done;)e.value.classList.add("swiper-slide")}catch(e){t.e(e)}finally{t.f()}}(),new Swiper(".about__swiper",{slidesPerView:1,navigation:{nextEl:".about__arrow--right",prevEl:".about__arrow--left"},slidesOffsetBefore:0,pagination:{el:".about__pagination",type:"bullets"},spaceBetween:20,paginationClickable:!0,breakpoints:{501:{slidesPerView:"auto",slidesOffsetBefore:20}}})),window.innerWidth>=v[0]&&new Swiper(".reviews__slider",{autoplay:{delay:1400},paginationClickable:!0,grabCursor:!0,effect:"coverflow",loop:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:0,stretch:50,depth:190,modifier:3,slideShadows:!1},navigation:{nextEl:".reviews__arrow--right",prevEl:".reviews__arrow--left"},pagination:{el:".reviews__pagination",type:"bullets"},breakpoints:{1201:{coverflowEffect:{depth:50}}}}),window.innerWidth<=v[0]&&new Swiper(".reviews__slider",{slidesPerView:1,navigation:{nextEl:".reviews__arrow--right",prevEl:".reviews__arrow--left"},pagination:{el:".reviews__pagination",type:"bullets"},spaceBetween:20,autoHeight:!0,paginationClickable:!0}),noUiSlider.create(e,{start:i.getAttribute("data-start-amount"),connect:[!0,!1],step:5e3,range:{min:1e4,max:parseInt(g.getAttribute("data-max-amount"))}}),noUiSlider.create(t,{start:60,connect:[!0,!1],range:{min:0,max:100},step:10}),e.noUiSlider.on("update",function(e,t){i.textContent=Math.trunc(e)+" руб",A()}),t.noUiSlider.on("update",function(e,t){o.textContent=Math.trunc(e)+" дней",s.textContent=h<e?S+"%":"0%",A()}),f.textContent=parseInt(g.getAttribute("data-max-amount")),window.innerWidth>=v[1]&&new simpleParallax(_,{overflow:!0,orientation:"right",delay:.6,transition:"cubic-bezier(0,0,0,1)",maxTransition:50}),window.innerWidth>=v[1]&&new simpleParallax(y,{overflow:!0,orientation:"down"}),window.innerWidth>=v[1]&&AOS.init(),window.innerWidth<=v[1]&&document.querySelectorAll("[data-aos]").forEach(function(e){e.removeAttribute("data-aos")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJvIiwiYWxsb3dBcnJheUxpa2UiLCJpdCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiQXJyYXkiLCJpc0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwibGVuZ3RoIiwiaSIsIkYiLCJzIiwibiIsImRvbmUiLCJ2YWx1ZSIsImUiLCJfZSIsImYiLCJUeXBlRXJyb3IiLCJlcnIiLCJub3JtYWxDb21wbGV0aW9uIiwiZGlkRXJyIiwic3RlcCIsIm5leHQiLCJfZTIiLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJhcnIiLCJsZW4iLCJhcnIyIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJhbmdlU2xpZGVyQW1vdW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmFuZ2VTbGlkZXJUaW1pbmciLCIkQUJPVVRfU1dJUEVSIiwiJEFCT1VUX0JMT0NLIiwiJCRBQk9VVF9CT1giLCJxdWVyeVNlbGVjdG9yQWxsIiwiJFRJTUlOR19DUkVESVQiLCIkQU1PVU5UX0NSRURJVCIsIiRBTU9VTlRfVVAiLCIkQU1PVU5UX0RPV04iLCIkVElNSU5HX1VQIiwiJFRJTUlOR19ET1dOIiwiJENSRURJVF9SQVRFIiwiJE9WRVJQQVlNRU5UIiwiJCRDQUxDVUxBVE9SX0hFQURFUl9DQVJEIiwiJENBTENVTEFUT1JfTUFJTl9USVRMRSIsIiRDQUxDVUxBVE9SX01BWCIsIiRCRVNUX0JMT0NLIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIiRIRUFEX0lNRyIsIkNPRUZGX1BSRUNFTlRfREFZIiwiJGNhbGN1bGF0b3JIZWFkZXJDYXJkQWN0aXZlIiwiQlJFQUtfUE9JTlQiLCJ0aW1pbmdDcmVkaXQiLCJwYXJzZUludCIsImdldEF0dHJpYnV0ZSIsInBlcmNlbnRDcmVkaXQiLCJwYXJzZUZsb2F0IiwiY2xpY2tBcnJvd0NoYW5nZSIsInJhbmdlU2xpZGVyIiwiaW5wdXQiLCJjaGFuZ2UiLCJub1VpU2xpZGVyIiwic2V0IiwidGV4dENvbnRlbnQiLCJjYWxjdWxhdGVPdmVycGF5bWVudCIsImJpbmQiLCJfc3RlcCIsIl9pdGVyYXRvciIsInRoaXMiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJ1cGRhdGVPcHRpb25zIiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJpbm5lcldpZHRoIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsImluaXRTd2lwZXIiLCJTd2lwZXIiLCJzbGlkZXNQZXJWaWV3IiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsInNsaWRlc09mZnNldEJlZm9yZSIsInBhZ2luYXRpb24iLCJlbCIsInR5cGUiLCJzcGFjZUJldHdlZW4iLCJwYWdpbmF0aW9uQ2xpY2thYmxlIiwiYnJlYWtwb2ludHMiLCI1MDEiLCJhdXRvcGxheSIsImRlbGF5IiwiZ3JhYkN1cnNvciIsImVmZmVjdCIsImxvb3AiLCJjZW50ZXJlZFNsaWRlcyIsImNvdmVyZmxvd0VmZmVjdCIsInJvdGF0ZSIsInN0cmV0Y2giLCJkZXB0aCIsIm1vZGlmaWVyIiwic2xpZGVTaGFkb3dzIiwiMTIwMSIsImF1dG9IZWlnaHQiLCJjcmVhdGUiLCJzdGFydCIsImNvbm5lY3QiLCJvbiIsInZhbHVlcyIsImhhbmRsZSIsIk1hdGgiLCJ0cnVuYyIsInNpbXBsZVBhcmFsbGF4Iiwib3ZlcmZsb3ciLCJvcmllbnRhdGlvbiIsInRyYW5zaXRpb24iLCJtYXhUcmFuc2l0aW9uIiwiQU9TIiwiaW5pdCIsImZvckVhY2giLCJpdGVtIiwicmVtb3ZlQXR0cmlidXRlIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLFNBQVNBLDJCQUEyQkMsRUFBR0MsR0FBa0IsSUFBSUMsRUFBSSxHQUFzQixvQkFBWEMsUUFBZ0QsTUFBdEJILEVBQUVHLE9BQU9DLFVB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cUUsSUFBSUMsT0FDM0NoRyxPQUFPbUQsWUFBY3pCLEVBQVksSUFBTXZCLFNBQVNNLGlCQUFpQixjQUFjd0YsUUFBUSxTQUFVQyxHQUMvRkEsRUFBS0MsZ0JBQWdCIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuLy8gZG9jdW1lbnQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4vLyAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiaW50ZXJhY3RpdmVcIikge1xuLy8gICAgIH1cbi8vIH1cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gIC8vIHZhcmlhYmxlc1xuICB2YXIgcmFuZ2VTbGlkZXJBbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbGN1bGF0b3JfX3JhbmdlLWFtb3VudFwiKTtcbiAgdmFyIHJhbmdlU2xpZGVyVGltaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYWxjdWxhdG9yX19yYW5nZS10aW1pbmdcIik7XG4gIHZhciAkQUJPVVRfU1dJUEVSID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hYm91dF9fc3dpcGVyXCIpLFxuICAgICAgJEFCT1VUX0JMT0NLID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hYm91dF9fYmxvY2tcIiksXG4gICAgICAkJEFCT1VUX0JPWCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWJvdXRfX2JveFwiKSxcbiAgICAgICRUSU1JTkdfQ1JFRElUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aW1pbmctY3JlZGl0XCIpLFxuICAgICAgJEFNT1VOVF9DUkVESVQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Ftb3VudC1jcmVkaXRcIiksXG4gICAgICAkQU1PVU5UX1VQID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhbW91bnQtdXBcIiksXG4gICAgICAkQU1PVU5UX0RPV04gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Ftb3VudC1kb3duXCIpLFxuICAgICAgJFRJTUlOR19VUCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGltaW5nLXVwXCIpLFxuICAgICAgJFRJTUlOR19ET1dOID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aW1pbmctZG93blwiKSxcbiAgICAgICRDUkVESVRfUkFURSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3JlZGl0LXJhdGVcIiksXG4gICAgICAkT1ZFUlBBWU1FTlQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJwYXltZW50XCIpLFxuICAgICAgJCRDQUxDVUxBVE9SX0hFQURFUl9DQVJEID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYWxjdWxhdG9yX19oZWFkZXItY2FyZFwiKSxcbiAgICAgICRDQUxDVUxBVE9SX01BSU5fVElUTEUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbGN1bGF0b3JfX21haW4tdGl0bGVcIiksXG4gICAgICAkQ0FMQ1VMQVRPUl9NQVggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbGN1bGF0b3JfX21heFwiKSxcbiAgICAgICRCRVNUX0JMT0NLID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImJlc3RfX2Jsb2NrXCIpLFxuICAgICAgJEhFQURfSU1HID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImhlYWRfX2ltZ1wiKTtcbiAgdmFyIENPRUZGX1BSRUNFTlRfREFZID0gMSAvIDM2NSxcbiAgICAgIFNURVBfQ0FMQ1VMQVRPUl9BTU9VTlQgPSA1MDAwLFxuICAgICAgU1RFUF9DQUxDVUxBVE9SX1RJTUlORyA9IDEwO1xuICB2YXIgJGNhbGN1bGF0b3JIZWFkZXJDYXJkQWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYWxjdWxhdG9yX19oZWFkZXItY2FyZC0tYWN0aXZlXCIpO1xuICB2YXIgQlJFQUtfUE9JTlQgPSBbOTAwLCAxMjAwXTtcbiAgdmFyIHRpbWluZ0NyZWRpdCA9IHBhcnNlSW50KCRjYWxjdWxhdG9ySGVhZGVyQ2FyZEFjdGl2ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRpbWluZ1wiKSksXG4gICAgICBwZXJjZW50Q3JlZGl0ID0gcGFyc2VGbG9hdCgkY2FsY3VsYXRvckhlYWRlckNhcmRBY3RpdmUuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcmVjZW50XCIpKTsgLy8gL3ZhcmlhYmxlc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHVuaXZlcnNhbCBmdW5jdGlvblxuXG4gIGZ1bmN0aW9uIGNsaWNrQXJyb3dDaGFuZ2UocmFuZ2VTbGlkZXIsIGlucHV0LCBjaGFuZ2UsIHN0ZXApIHtcbiAgICBjaGFuZ2UgPT09IFwiK1wiICYmIHJhbmdlU2xpZGVyLm5vVWlTbGlkZXIuc2V0KHBhcnNlSW50KGlucHV0LnRleHRDb250ZW50KSArIHN0ZXApO1xuICAgIGNoYW5nZSA9PT0gXCItXCIgJiYgcmFuZ2VTbGlkZXIubm9VaVNsaWRlci5zZXQocGFyc2VJbnQoaW5wdXQudGV4dENvbnRlbnQpIC0gc3RlcCk7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxjdWxhdGVPdmVycGF5bWVudCgpIHtcbiAgICAkT1ZFUlBBWU1FTlQudGV4dENvbnRlbnQgPSBwYXJzZUludCgkVElNSU5HX0NSRURJVC50ZXh0Q29udGVudCkgPiB0aW1pbmdDcmVkaXQgPyBwYXJzZUludChwYXJzZUludCgkQU1PVU5UX0NSRURJVC50ZXh0Q29udGVudCkgKiBwZXJjZW50Q3JlZGl0ICogQ09FRkZfUFJFQ0VOVF9EQVkgLyAxMDAgKiBwYXJzZUludCgkVElNSU5HX0NSRURJVC50ZXh0Q29udGVudCkpICsgXCLigr1cIiA6IFwiMOKCvVwiO1xuICB9IC8vICAvdW5pdmVyc2FsIGZ1bmN0aW9uXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gZXZlbnRcblxuXG4gICRBTU9VTlRfVVAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrQXJyb3dDaGFuZ2UuYmluZChudWxsLCByYW5nZVNsaWRlckFtb3VudCwgJEFNT1VOVF9DUkVESVQsIFwiK1wiLCBTVEVQX0NBTENVTEFUT1JfQU1PVU5UKSk7XG4gICRBTU9VTlRfRE9XTi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tBcnJvd0NoYW5nZS5iaW5kKG51bGwsIHJhbmdlU2xpZGVyQW1vdW50LCAkQU1PVU5UX0NSRURJVCwgXCItXCIsIFNURVBfQ0FMQ1VMQVRPUl9BTU9VTlQpKTtcbiAgJFRJTUlOR19VUC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tBcnJvd0NoYW5nZS5iaW5kKG51bGwsIHJhbmdlU2xpZGVyVGltaW5nLCAkVElNSU5HX0NSRURJVCwgXCIrXCIsIFNURVBfQ0FMQ1VMQVRPUl9USU1JTkcpKTtcbiAgJFRJTUlOR19ET1dOLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0Fycm93Q2hhbmdlLmJpbmQobnVsbCwgcmFuZ2VTbGlkZXJUaW1pbmcsICRUSU1JTkdfQ1JFRElULCBcIi1cIiwgU1RFUF9DQUxDVUxBVE9SX1RJTUlORykpO1xuXG4gIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcigkJENBTENVTEFUT1JfSEVBREVSX0NBUkQpLFxuICAgICAgX3N0ZXA7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgdmFyIGNhcmQgPSBfc3RlcC52YWx1ZTtcbiAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGltaW5nQ3JlZGl0ID0gcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRpbWluZ1wiKSk7XG4gICAgICAgIHBlcmNlbnRDcmVkaXQgPSBwYXJzZUZsb2F0KHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcmVjZW50XCIpKTtcbiAgICAgICAgJENBTENVTEFUT1JfTUFJTl9USVRMRS50ZXh0Q29udGVudCA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1uYW1lXCIpO1xuICAgICAgICAkY2FsY3VsYXRvckhlYWRlckNhcmRBY3RpdmUuY2xhc3NMaXN0LnJlbW92ZShcImNhbGN1bGF0b3JfX2hlYWRlci1jYXJkLS1hY3RpdmVcIik7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChcImNhbGN1bGF0b3JfX2hlYWRlci1jYXJkLS1hY3RpdmVcIik7XG4gICAgICAgICRjYWxjdWxhdG9ySGVhZGVyQ2FyZEFjdGl2ZSA9IHRoaXM7XG4gICAgICAgIGNhbGN1bGF0ZU92ZXJwYXltZW50KCk7XG4gICAgICAgICRDUkVESVRfUkFURS50ZXh0Q29udGVudCA9IHBhcnNlSW50KCRUSU1JTkdfQ1JFRElULnRleHRDb250ZW50KSA+IHRpbWluZ0NyZWRpdCA/IHBlcmNlbnRDcmVkaXQgKyBcIiVcIiA6IFwiMCVcIjtcbiAgICAgICAgJENBTENVTEFUT1JfTUFYLnRleHRDb250ZW50ID0gcGFyc2VJbnQoJGNhbGN1bGF0b3JIZWFkZXJDYXJkQWN0aXZlLmdldEF0dHJpYnV0ZShcImRhdGEtbWF4LWFtb3VudFwiKSk7XG4gICAgICAgIHJhbmdlU2xpZGVyQW1vdW50Lm5vVWlTbGlkZXIudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgIG1pbjogMTAwMDAsXG4gICAgICAgICAgICBtYXg6ICRDQUxDVUxBVE9SX01BWC50ZXh0Q29udGVudCA9IHBhcnNlSW50KCRjYWxjdWxhdG9ySGVhZGVyQ2FyZEFjdGl2ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1heC1hbW91bnRcIikpXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gLy8gL2V2ZW50XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIHVuaXF1ZSBmdW5jdGlvblxuXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvci5lKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgX2l0ZXJhdG9yLmYoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTd2lwZXIoKSB7XG4gICAgJEFCT1VUX1NXSVBFUi5jbGFzc0xpc3QuYWRkKFwic3dpcGVyLXdyYXBwZXJcIik7XG4gICAgJEFCT1VUX0JMT0NLLmNsYXNzTGlzdC5hZGQoXCJzd2lwZXItd3JhcHBlclwiKTtcblxuICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoJCRBQk9VVF9CT1gpLFxuICAgICAgICBfc3RlcDI7XG5cbiAgICB0cnkge1xuICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHtcbiAgICAgICAgdmFyIHNsaWRlID0gX3N0ZXAyLnZhbHVlO1xuICAgICAgICBzbGlkZS5jbGFzc0xpc3QuYWRkKFwic3dpcGVyLXNsaWRlXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIF9pdGVyYXRvcjIuZigpO1xuICAgIH1cbiAgfSAvLyAvdW5pcXVlIGZ1bmN0aW9uXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gUGFnZSBsb2FkXG5cblxuICB3aW5kb3cuaW5uZXJXaWR0aCA8PSBCUkVBS19QT0lOVFswXSAmJiAoaW5pdFN3aXBlcigpLCBuZXcgU3dpcGVyKFwiLmFib3V0X19zd2lwZXJcIiwge1xuICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiBcIi5hYm91dF9fYXJyb3ctLXJpZ2h0XCIsXG4gICAgICBwcmV2RWw6IFwiLmFib3V0X19hcnJvdy0tbGVmdFwiXG4gICAgfSxcbiAgICBzbGlkZXNPZmZzZXRCZWZvcmU6IDAsXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6IFwiLmFib3V0X19wYWdpbmF0aW9uXCIsXG4gICAgICB0eXBlOiBcImJ1bGxldHNcIlxuICAgIH0sXG4gICAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgICBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlLFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICA1MDE6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4gICAgICAgIHNsaWRlc09mZnNldEJlZm9yZTogMjBcbiAgICAgIH1cbiAgICB9XG4gIH0pKTtcbiAgd2luZG93LmlubmVyV2lkdGggPj0gQlJFQUtfUE9JTlRbMF0gJiYgbmV3IFN3aXBlcihcIi5yZXZpZXdzX19zbGlkZXJcIiwge1xuICAgIGF1dG9wbGF5OiB7XG4gICAgICBkZWxheTogMTQwMFxuICAgIH0sXG4gICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcbiAgICBncmFiQ3Vyc29yOiB0cnVlLFxuICAgIGVmZmVjdDogXCJjb3ZlcmZsb3dcIixcbiAgICBsb29wOiB0cnVlLFxuICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuICAgIGNvdmVyZmxvd0VmZmVjdDoge1xuICAgICAgcm90YXRlOiAwLFxuICAgICAgc3RyZXRjaDogNTAsXG4gICAgICBkZXB0aDogMTkwLFxuICAgICAgbW9kaWZpZXI6IDMsXG4gICAgICBzbGlkZVNoYWRvd3M6IGZhbHNlXG4gICAgfSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IFwiLnJldmlld3NfX2Fycm93LS1yaWdodFwiLFxuICAgICAgcHJldkVsOiBcIi5yZXZpZXdzX19hcnJvdy0tbGVmdFwiXG4gICAgfSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogXCIucmV2aWV3c19fcGFnaW5hdGlvblwiLFxuICAgICAgdHlwZTogXCJidWxsZXRzXCJcbiAgICB9LFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAxMjAxOiB7XG4gICAgICAgIGNvdmVyZmxvd0VmZmVjdDoge1xuICAgICAgICAgIGRlcHRoOiA1MFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgd2luZG93LmlubmVyV2lkdGggPD0gQlJFQUtfUE9JTlRbMF0gJiYgbmV3IFN3aXBlcihcIi5yZXZpZXdzX19zbGlkZXJcIiwge1xuICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiBcIi5yZXZpZXdzX19hcnJvdy0tcmlnaHRcIixcbiAgICAgIHByZXZFbDogXCIucmV2aWV3c19fYXJyb3ctLWxlZnRcIlxuICAgIH0sXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6IFwiLnJldmlld3NfX3BhZ2luYXRpb25cIixcbiAgICAgIHR5cGU6IFwiYnVsbGV0c1wiXG4gICAgfSxcbiAgICBzcGFjZUJldHdlZW46IDIwLFxuICAgIGF1dG9IZWlnaHQ6IHRydWUsXG4gICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZVxuICB9KTtcbiAgbm9VaVNsaWRlci5jcmVhdGUocmFuZ2VTbGlkZXJBbW91bnQsIHtcbiAgICBzdGFydDogJEFNT1VOVF9DUkVESVQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zdGFydC1hbW91bnRcIiksXG4gICAgY29ubmVjdDogW3RydWUsIGZhbHNlXSxcbiAgICBzdGVwOiBTVEVQX0NBTENVTEFUT1JfQU1PVU5ULFxuICAgIHJhbmdlOiB7XG4gICAgICBtaW46IDEwMDAwLFxuICAgICAgbWF4OiBwYXJzZUludCgkY2FsY3VsYXRvckhlYWRlckNhcmRBY3RpdmUuZ2V0QXR0cmlidXRlKFwiZGF0YS1tYXgtYW1vdW50XCIpKVxuICAgIH1cbiAgfSk7XG4gIG5vVWlTbGlkZXIuY3JlYXRlKHJhbmdlU2xpZGVyVGltaW5nLCB7XG4gICAgc3RhcnQ6IDYwLFxuICAgIGNvbm5lY3Q6IFt0cnVlLCBmYWxzZV0sXG4gICAgcmFuZ2U6IHtcbiAgICAgIG1pbjogMCxcbiAgICAgIG1heDogMTAwXG4gICAgfSxcbiAgICBzdGVwOiBTVEVQX0NBTENVTEFUT1JfVElNSU5HXG4gIH0pO1xuICByYW5nZVNsaWRlckFtb3VudC5ub1VpU2xpZGVyLm9uKFwidXBkYXRlXCIsIGZ1bmN0aW9uICh2YWx1ZXMsIGhhbmRsZSkge1xuICAgICRBTU9VTlRfQ1JFRElULnRleHRDb250ZW50ID0gTWF0aC50cnVuYyh2YWx1ZXMpICsgXCIg0YDRg9CxXCI7XG4gICAgY2FsY3VsYXRlT3ZlcnBheW1lbnQoKTtcbiAgfSk7XG4gIHJhbmdlU2xpZGVyVGltaW5nLm5vVWlTbGlkZXIub24oXCJ1cGRhdGVcIiwgZnVuY3Rpb24gKHZhbHVlcywgaGFuZGxlKSB7XG4gICAgJFRJTUlOR19DUkVESVQudGV4dENvbnRlbnQgPSBNYXRoLnRydW5jKHZhbHVlcykgKyBcIiDQtNC90LXQuVwiO1xuICAgICRDUkVESVRfUkFURS50ZXh0Q29udGVudCA9IHZhbHVlcyA+IHRpbWluZ0NyZWRpdCA/IHBlcmNlbnRDcmVkaXQgKyBcIiVcIiA6IFwiMCVcIjtcbiAgICBjYWxjdWxhdGVPdmVycGF5bWVudCgpO1xuICB9KTtcbiAgJENBTENVTEFUT1JfTUFYLnRleHRDb250ZW50ID0gcGFyc2VJbnQoJGNhbGN1bGF0b3JIZWFkZXJDYXJkQWN0aXZlLmdldEF0dHJpYnV0ZShcImRhdGEtbWF4LWFtb3VudFwiKSk7XG4gIHdpbmRvdy5pbm5lcldpZHRoID49IEJSRUFLX1BPSU5UWzFdICYmIG5ldyBzaW1wbGVQYXJhbGxheCgkQkVTVF9CTE9DSywge1xuICAgIG92ZXJmbG93OiB0cnVlLFxuICAgIG9yaWVudGF0aW9uOiBcInJpZ2h0XCIsXG4gICAgZGVsYXk6IDAuNixcbiAgICB0cmFuc2l0aW9uOiBcImN1YmljLWJlemllcigwLDAsMCwxKVwiLFxuICAgIG1heFRyYW5zaXRpb246IDUwXG4gIH0pO1xuICB3aW5kb3cuaW5uZXJXaWR0aCA+PSBCUkVBS19QT0lOVFsxXSAmJiBuZXcgc2ltcGxlUGFyYWxsYXgoJEhFQURfSU1HLCB7XG4gICAgb3ZlcmZsb3c6IHRydWUsXG4gICAgb3JpZW50YXRpb246IFwiZG93blwiXG4gIH0pO1xuICB3aW5kb3cuaW5uZXJXaWR0aCA+PSBCUkVBS19QT0lOVFsxXSAmJiBBT1MuaW5pdCgpO1xuICB3aW5kb3cuaW5uZXJXaWR0aCA8PSBCUkVBS19QT0lOVFsxXSAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtYW9zXVwiKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaXRlbS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWFvc1wiKTtcbiAgfSk7IC8vIC9QYWdlIGxvYWRcbn0pOyJdfQ==
